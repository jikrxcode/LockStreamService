<!DOCTYPE html>
<html>
<head>
    <title>üöÄ LockStream Service</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç -->
    <div class="user-header">
        <div class="user-info">
            <span id="username">–ì–æ—Å—Ç—å</span>
            <div class="balance">
                $<span id="balance">0.00</span>
            </div>
        </div>
        <button class="top-up-btn" onclick="showTopUpModal()">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
    </div>

    <button class="theme-switcher" onclick="toggleTheme()">
        <svg class="theme-icon" viewBox="0 0 24 24">
            <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1-8.313-12.454z"/>
        </svg>
    </button>
    
    <div class="container">
        <!-- –°–µ–∫—Ü–∏—è —Ç–∞—Ä–∏—Ñ–æ–≤ -->
        <div class="section">
            <h2>üì¶ –¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã</h2>
            <div class="plan-card">
                <h3>Basic</h3>
                <div class="price">$4.99/–º–µ—Å</div>
                <ul>
                    <li>–î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ª–æ–∫–∞—Ü–∏—è–º</li>
                    <li>–°–∫–æ—Ä–æ—Å—Ç—å –¥–æ 100 –ú–±–∏—Ç/—Å</li>
                    <li>1 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</li>
                </ul>
                <button onclick="showPayment('basic')">–ö—É–ø–∏—Ç—å</button>
            </div>

            <div class="plan-card">
                <h3>Pro</h3>
                <div class="price">$9.99/–º–µ—Å</div>
                <ul>
                    <li>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</li>
                    <li>–°–∫–æ—Ä–æ—Å—Ç—å –¥–æ 1 –ì–±–∏—Ç/—Å</li>
                    <li>5 —É—Å—Ç—Ä–æ–π—Å—Ç–≤</li>
                </ul>
                <button onclick="showPayment('pro')">–ö—É–ø–∏—Ç—å</button>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –ª–æ–∫–∞—Ü–∏–π -->
        <div class="section">
            <h2>üìç –î–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏</h2>

            <button class="location-btn" onclick="showConfig('russia')">
                <img src="https://flagcdn.com/ru.svg" class="flag" alt="Russia" width="32"> Moscow</button>

            <button class="location-btn" onclick="showConfig('finland')">
                <img src="https://flagcdn.com/fi.svg" class="flag" alt="Finland" width="32"> Helsinki</button>

            <button class="location-btn" onclick="showConfig('netherland')">
                <img src="https://flagcdn.com/dk.svg" class="flag" alt="Netherland" width="32"> Amsterdam</button>

            <button class="location-btn" onclick="showConfig('germany')">
                <img src="https://flagcdn.com/de.svg" class="flag" alt="Germany" width="32"> Frankfurt</button>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
        <div class="section">
            <h2>üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞</h2>
            <button onclick="Telegram.WebApp.openTelegramLink('tg://resolve?domain=your_support')">
                üì© –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É
            </button>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();

        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserData() {
            // –ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            let userData = {
                name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
                balance: 50.00,
                subscription: "Pro"
            };
            updateUserHeader(userData);
        }

        function updateUserHeader(userData) {
            document.getElementById('username').textContent = userData.name;
            document.getElementById('balance').textContent = userData.balance.toFixed(2);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
            Telegram.WebApp.setHeaderColor(savedTheme === 'dark' ? '#2d2d2d' : '#ffffff');
        }

        function toggleTheme() {
            const currentTheme = document.body.getAttribute('data-theme') || 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            Telegram.WebApp.setHeaderColor(newTheme === 'dark' ? '#2d2d2d' : '#ffffff');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∏–∫–æ–Ω–∫–∏
            const icon = document.querySelector('.theme-icon');
            icon.style.transition = 'transform 0.3s ease, fill 0.3s ease';
            icon.style.transform = newTheme === 'dark' ? 'rotate(180deg)' : 'rotate(0deg)';
            icon.style.fill = newTheme === 'dark' ? '#FFD700' : 'var(--text-color)';
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∫–æ–Ω–∫–∏
        window.onload = function() {
            initTheme();
            loadUserData();
        };

        // –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
        function showTopUpModal() {
            Telegram.WebApp.showPopup({
                title: '–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞',
                message: '–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:',
                buttons: [
                    {id: 'cancel', type: 'cancel'},
                    {id: 'confirm', type: 'default', text: '–ü–æ–ø–æ–ª–Ω–∏—Ç—å'}
                ]
            }, function(buttonId) {
                if(buttonId === 'confirm') {
                    const amount = prompt("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É:");
                    if(amount && !isNaN(amount)) {
                        userData.balance += parseFloat(amount);
                        updateUserHeader(userData);
                        Telegram.WebApp.showAlert(`–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ $${amount}`);
                    }
                }
            });
        }

        // –ü–æ–∫—É–ø–∫–∞ —Ç–∞—Ä–∏—Ñ–∞
        function showPayment(plan) {
            Telegram.WebApp.showAlert(`–û–ø–ª–∞—Ç–∞ —Ç–∞—Ä–∏—Ñ–∞ ${plan}...`);
        }

        // –ü–æ–∫–∞–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        const configs = {
            finland: {
                vless: "vless://...@finland.server.com:443?...",
                proxy: "socks5://user:pass@finland.server.com:1080"
            },
            denmark: {
                vless: "vless://...@denmark.server.com:443?...",
                proxy: "socks5://user:pass@denmark.server.com:1080"
            }
        };

        function showConfig(location) {
            const config = configs[location];
            Telegram.WebApp.showAlert(`
                üõ† –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è ${location}:
                
                Xray Vless:
                ${config.vless}

                SOCKS5 Proxy:
                ${config.proxy}
            `);
        }
    </script>
</body>
</html>